<nav class="navbar sticky-top navbar-expand-lg navbar-dark bg-dark w-10">
  <div class="container-fluid">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item">
          <a class="nav-link active" aria-current="page" href="/admin/list_aadhar">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/admin/create-form">Create New</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/admin/myAccount">My Profile</a>
        </li>
      </ul>
      <a class="nav-link" onclick="logout()">Logout</a>
    </div>
  </div>
</nav>
<div class="row mt-3">
  {{#each users as |user|}}
  <div class="col-3 col-md-3 mb-3">
    <div class="card-deck">
      <div class="card">
        <div class="card-header d-flex justify-content-between">
          <button type="button" class="btn btn-edit" onclick="viewUser(`{{user.email}}`)">{{user.firstName}} {{user.lastName}}</button>
          <button type="button" class="btn btn-delete" onclick="deleteUser(`{{user.email}}`)"><i class="fa fa-trash"></i></button>
        </div>{{!-- header --}}
        <div class="card-body">
          <h6 class="card-title">{{user.aadharId}}
          </h6>
          <p class="card-text">{{user.age}}/{{user.gender}}
          </p>
        </div>
      </div>{{!-- card --}}
    </div>{{!-- card-deck --}}
  </div>{{!-- col-6 --}}
  {{/each}}
</div>{{!-- row --}}
<script>
  function viewUser(email) {
    $.ajax({
      url: '/admin/aadhar',
      type: 'GET',
      data: {
        email: email,
      },
      dataType: 'json',
      success: function (msg) {
        
      },
      error: function (jqXHR, textStatus) {
        var responseText = jQuery.parseJSON(jqXHR.responseText);
        swal({
          icon: "error",
          title: "Oops..",
          text: responseText['message'],
          button: false
        })
      }
    });
  }
  function deleteUser(email) {
    swal({
      title: "Delete user?",
      text: "This can not be undone. Are you sure?",
      icon: "warning",
      buttons: true,
    }).then((willgift) => {
      if (willgift) {
        $.ajax({
          url: '/admin/aadhar',
          type: 'DELETE',
          data: {
            email: email,
          },
          dataType: 'json',
          success: function (msg) {

          },
          error: function (jqXHR, textStatus) {
            var responseText = jQuery.parseJSON(jqXHR.responseText);
            swal({
              icon: "error",
              title: "Oops..",
              text: responseText['message'],
              button: false
            })
          }
        });
      }
    })
  }
 function logout() {
    window.localStorage.clear()
    window.location = '/open/logout';
  }
</script>